<button (click)="back()" mat-button>
    <mat-icon>arrow_back</mat-icon>
    BACK
</button>
<div class="padding">

    <ngx-charts-advanced-pie-chart *ngIf="data | async as d"
                                   [gradient]="true"
                                   [results]="d"
                                   [view]="view">
    </ngx-charts-advanced-pie-chart>

    <div *ngIf="results | async as results; else loading">

        <mat-accordion class="example-headers-align">
            <app-privacy-risk *ngFor="let result of results | sortRisk | filter: 'DataStream' "
                              [result]="result">
            </app-privacy-risk>
        </mat-accordion>

        <mat-accordion class="example-headers-align">
            <app-privacy-risk *ngFor="let result of results | sortRisk | filter: 'Context' "
                              [result]="result">
            </app-privacy-risk>
        </mat-accordion>


    </div>
</div>
<ng-template #loading>
    <div class="spinner-container" fxLayoutAlign="center center">
        <mat-spinner></mat-spinner>
    </div>
</ng-template>
